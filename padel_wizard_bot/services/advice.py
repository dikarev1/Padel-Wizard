"""Advice provider for padel levels."""
from __future__ import annotations

from typing import Optional

_ADVICE_BY_LEVEL_GROUP: dict[str, str] = {
    "E": (
        "Для твоего уровня важней всего закладывать базу, на основе которой ты будешь улучшать разные аспекты своей игры.\n\n"
        "Поэтому мой совет #1 - не переставай учиться и сразу пробуй верную технику падела, как бы непривычно это ни было, зна"
        "й: как правильно держать ракетку,  перемещаться по корту, технику основных ударов .\n\n"
        "Чем лучше ты заложишь базу, тем проще, интересней и успешней будет твой дальнейший прогресс.\n\n"
        "Совет #2 - меняй позицию на корте, в зависимости от структуры розыгрыша. Важно стараться как можно чаще стремиться и"
        " выходить к сетке, но так же важно и не задерживаться у нее. \n\n \n\nУдачи! И помни, что классно проводить время"
        " - пожалуй главный ключ к успеху. \n\n__\n\nКлючевые основы Падел тенниса:\n\n"
        "1. основы позиционирования на корте (10 mins) : https://www.youtube.com/watch?v=ezu6BuTD0Qs\n"
        "2. Основы подачи (short): https://www.youtube.com/shorts/ZyEYGthB7CE\n"
        "3. Основы Volley, Backhand Volley (3 min): https://www.youtube.com/watch?v=wCAqvaqrnZ4\n"
        "4. Основы Backhand (2 min): https://www.youtube.com/watch?v=JMLjbUja3k0\n"
        "5. Основы Forehand (2 min): https://www.youtube.com/watch?v=YawHc7Cv8us\n"
    ),
    "D": (
        "На твоем уровне игра приобрела структурный характер. Чтобы выиграть, уже недостаточно “просто попасть по мячу”.\n\n"
        "Для дальнейшего прогресса нужно совершенствовать то , чему ты уже научился и постепенно продвигаться к более продвинут"
        "ым аспектам игры, не забывая совершенствовать базу.  \n\n"
        "Если ты уже умеешь играть агрессивно и быстро - пришло время научиться не спешить и ударять мягко \n\n"
        "Совет #1 **Сделай стекло своим напарником.**\n"
        "Не беги навстречу мячу, когда он летит глубоко. Научись делать наоборот: отступать и пропускать мяч к заднему стеклу. "
        " Учись \"читать\" отскок от заднего, бокового и двойного стекла, а не перехватывать мяч в панике с лету. \n\n"
        "Совет #2 **Пробуй разные удары** \n\n"
        "Для дальнейшего роста важно научиться всем базовым ударам игры: backhand, forehand, volley, backhand volley, bandeja,"
        " lob, chiquita. Уделяй время этим ударам и старайся регулярно использовать их в своей игре\n\n"
        "Удачи! И помни, что классно проводить время - пожалуй главный ключ к успеху.\n"
    ),
    "C": (
        "На твоем уровне в игре начинают проявляться такие аспекты как “темп” и “вариативность”. Всё больше и больше игроков исп"
        "ользуют свободное пространство, стараются эксплуатировать твои слабые и избегать сильных сторон.\n\n"
        "Поэтому совет #1 \n\n"
        "Твоя физическая форма становится определяющим фактором. Чтобы стать лучше, ты должен стать мастером в сплит-степах, пе"
        "ремещениях боком (перед bandeja),  а так же уметь координировать всё свое тело во время удара. \n\n"
        "Вот пример упражнений, которые помогут тебе прокачаться физически: \n\n"
        "1. https://www.youtube.com/watch?v=c4W9p1wY4Jo\n"
        "2. https://www.youtube.com/watch?v=YuOcs7miXPc\n\n"
        "Совет #2 \n\n"
        "Чтобы побеждать, у тебя не должно быть очевидно слабых мест. Выучи и используй каждый базовый удар в Падл-теннисе - bac"
        "khand, forehand, volley, backhand volley, bandeja, lob, chiquita. Если у тебя не будет уверенного уровня хотя бы у одн"
        "ого из ударов - соперник не простит и без этой базы сложно строить дальнейшее развитие. \n\n"
        "Удачи! И помни, что классно проводить время - пожалуй главный ключ к успеху.\n"
    ),
}


def _map_level_to_group(level: str) -> Optional[str]:
    if level.startswith("E"):
        return "E"
    if level.startswith("D"):
        return "D"
    if level.startswith("C"):
        return "C"
    return None


def get_advice_for_level(level: Optional[str]) -> Optional[str]:
    """Return advice text for the provided padel level, if known."""

    if level is None:
        return None

    group = _map_level_to_group(level)
    if group is None:
        return None

    return _ADVICE_BY_LEVEL_GROUP.get(group)
